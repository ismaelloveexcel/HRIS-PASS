import type { QuizDifficulty, QuizQuestion, QuizTheme } from '../types';

type QuestionSeed = {
  slug: string;
  prompt: string;
  options: string[];
  correctIndex: number;
  difficulty: QuizDifficulty;
  flavor?: string;
};

const makeQuestions = (category: QuizTheme, seeds: QuestionSeed[]): QuizQuestion[] =>
  seeds.map((seed, index) => ({
    id: `${category}-${seed.slug || index + 1}`,
    category,
    ...seed,
  }));

const STEM_SEEDS: QuestionSeed[] = [
  {
    slug: 'spin-cycle',
    difficulty: 'easy',
    prompt:
      'A snake drops you 12 tiles. The island spins once every 3 turns. How many spins happen while you climb those 12 tiles back at 2 tiles per turn?',
    options: ['1 spin', '2 spins', '3 spins', '4 spins'],
    correctIndex: 1,
    flavor: 'Observation Cube math burst',
  },
  {
    slug: 'fibonacci-beam',
    difficulty: 'medium',
    prompt:
      'The neon ladders glow in a Fibonacci rhythm. If the previous ladder pulses 5 times, how many pulses does the next ladder show?',
    options: ['5', '8', '10', '13'],
    correctIndex: 1,
    flavor: 'Bamboo elevator puzzle',
  },
  {
    slug: 'quantum-doubles',
    difficulty: 'hard',
    prompt:
      'Glass tokens double every successful quiz, starting with 1. After four consecutive wins, how many tokens do you hold?',
    options: ['8', '12', '16', '24'],
    correctIndex: 2,
  },
  {
    slug: 'ion-thruster',
    difficulty: 'medium',
    prompt: 'A neon ladder lifts you from tile 14 to tile 38. What is the net tile gain?',
    options: ['20', '22', '24', '26'],
    correctIndex: 2,
    flavor: 'Hyperloop climb reward',
  },
  {
    slug: 'probability-pulse',
    difficulty: 'medium',
    prompt: 'You may move only if you roll a 4, 5, or 6 this turn. What is the probability you advance?',
    options: ['1/3', '1/2', '2/3', '5/6'],
    correctIndex: 1,
  },
  {
    slug: 'time-dilation',
    difficulty: 'easy',
    prompt: 'A timer subtracts 0.5 seconds each turn for 8 turns, starting at 30 seconds. Where does the timer land?',
    options: ['22 s', '24 s', '26 s', '28 s'],
    correctIndex: 2,
  },
  {
    slug: 'prime-conduits',
    difficulty: 'medium',
    prompt: 'How many prime-numbered tiles appear between tile 1 and tile 30 inclusive?',
    options: ['9', '10', '11', '12'],
    correctIndex: 1,
  },
  {
    slug: 'gravity-warp',
    difficulty: 'easy',
    prompt: 'A mystery tile sends you forward 4 tiles or backward 4 tiles with equal chance. What is the expected displacement?',
    options: ['−4', '−2', '0', '+2'],
    correctIndex: 2,
  },
  {
    slug: 'vector-dodge',
    difficulty: 'easy',
    prompt: 'You step 3 tiles east and 4 tiles north to dodge a drone. How many tiles is the straight-line distance?',
    options: ['4', '5', '6', '7'],
    correctIndex: 1,
  },
  {
    slug: 'relay-circuit',
    difficulty: 'easy',
    prompt: 'Two contestants alternate turns. After each contestant has rolled twice, how many total turns have occurred?',
    options: ['2', '3', '4', '5'],
    correctIndex: 2,
  },
  {
    slug: 'median-panels',
    difficulty: 'easy',
    prompt: 'Your last five dice results were 6, 2, 4, 4, and 5. What is the median value?',
    options: ['3', '4', '4.5', '5'],
    correctIndex: 1,
  },
  {
    slug: 'combo-lock',
    difficulty: 'medium',
    prompt:
      'A door opens only if the sum of two dice equals 7 and the first die is locked at 3. What is the probability you open it on the next roll?',
    options: ['1/6', '2/6', '3/6', '4/6'],
    correctIndex: 0,
  },
  {
    slug: 'rail-lift',
    difficulty: 'medium',
    prompt: 'Ignoring snakes, an average die value of 3.5 tiles per turn will clear the 70-tile board in how many turns?',
    options: ['15', '18', '20', '24'],
    correctIndex: 2,
  },
  {
    slug: 'amplifier-loop',
    difficulty: 'hard',
    prompt:
      'A streak multiplier grows by 1.5× each quiz win starting at 2. Approximately what value do you reach after three consecutive wins?',
    options: ['5', '6', '7', '8'],
    correctIndex: 2,
  },
  {
    slug: 'entropy-coins',
    difficulty: 'medium',
    prompt: 'To unlock a vault you flip three coins. What is the probability of getting exactly two heads?',
    options: ['1/8', '2/8', '3/8', '4/8'],
    correctIndex: 2,
  },
  {
    slug: 'spiral-sum',
    difficulty: 'hard',
    prompt: 'Row three of the board covers tiles 21 through 30. What is the sum of that row?',
    options: ['225', '245', '255', '265'],
    correctIndex: 2,
  },
  {
    slug: 'cooldown-sync',
    difficulty: 'easy',
    prompt: 'An ability recharges every 6 turns. If you last used it on turn 5, which turn regains it?',
    options: ['9', '10', '11', '12'],
    correctIndex: 2,
  },
  {
    slug: 'delta-waves',
    difficulty: 'hard',
    prompt: 'A guard drone drains 12% energy per failed quiz. Starting at 200 energy, what remains after two consecutive failures?',
    options: ['150', '155', '160', '165'],
    correctIndex: 1,
  },
  {
    slug: 'cipher-shift',
    difficulty: 'easy',
    prompt: 'A sequence climbs by +3 tiles each success, starting at tile 2. Which tile do you occupy after six more steps?',
    options: ['17', '18', '20', '21'],
    correctIndex: 2,
  },
  {
    slug: 'aurora-area',
    difficulty: 'hard',
    prompt:
      'Each tile is a square 1.2 units wide. Four circular tokens with radius 0.2 units rest on it. Approximately what percent of the tile’s area do the tokens cover?',
    options: ['25%', '35%', '45%', '55%'],
    correctIndex: 1,
  },
  {
    slug: 'relay-bonus',
    difficulty: 'medium',
    prompt: 'Mystery nodes award +3 credits on every multiple of six. How many such tiles exist between 1 and 50?',
    options: ['7', '8', '9', '10'],
    correctIndex: 1,
  },
  {
    slug: 'syncopated-die',
    difficulty: 'easy',
    prompt: 'A custom die has faces 1, 2, 3 repeated twice. What is the expected roll value?',
    options: ['1.5', '2', '2.5', '3'],
    correctIndex: 1,
  },
  {
    slug: 'glitch-window',
    difficulty: 'medium',
    prompt: 'A quiz portal stays open for 18 seconds. If each answer takes 2.5 seconds, how many answers fit before it closes?',
    options: ['6', '7', '8', '9'],
    correctIndex: 1,
  },
  {
    slug: 'phase-offset',
    difficulty: 'easy',
    prompt: 'Time of day cycles every four turns. Which sky appears on turn 27?',
    options: ['Sunrise', 'Daylight', 'Golden', 'Neon'],
    correctIndex: 3,
  },
  {
    slug: 'hazard-matrix',
    difficulty: 'hard',
    prompt:
      'Snake A triggers with probability 0.2 and snake B with 0.15 in the same turn. Assuming independence, what is the chance at least one triggers?',
    options: ['0.25', '0.30', '0.32', '0.35'],
    correctIndex: 2,
  },
  {
    slug: 'fusion-average',
    difficulty: 'easy',
    prompt: 'Your last four quiz times were 9, 12, 10, and 11 seconds. What is the average?',
    options: ['9.5 s', '10 s', '10.5 s', '11 s'],
    correctIndex: 2,
  },
  {
    slug: 'warp-boost',
    difficulty: 'medium',
    prompt:
      'Back-to-back ladders each jump you 12 tiles, and the combo awards an extra 5 tiles. Starting on tile 3, where do you land?',
    options: ['29', '30', '32', '34'],
    correctIndex: 2,
  },
  {
    slug: 'mirror-code',
    difficulty: 'medium',
    prompt: 'A control panel flashes the binary pattern 10101. What decimal number is that?',
    options: ['19', '20', '21', '22'],
    correctIndex: 2,
  },
  {
    slug: 'aural-beats',
    difficulty: 'easy',
    prompt: 'Two warning beacons flash every 6 seconds and every 10 seconds. After how many seconds do they flash together again?',
    options: ['12 s', '20 s', '24 s', '30 s'],
    correctIndex: 3,
  },
  {
    slug: 'tilt-balance',
    difficulty: 'easy',
    prompt: 'The board tilts 5 degrees for each overshoot. After three overshoots, how far has it tilted?',
    options: ['10°', '12°', '15°', '18°'],
    correctIndex: 2,
  },
  {
    slug: 'capacitor-chain',
    difficulty: 'hard',
    prompt: 'Credit boosters of 1.2×, 1.3×, and 1.1× trigger in a row. What is the overall multiplier?',
    options: ['1.62×', '1.72×', '1.80×', '2.00×'],
    correctIndex: 1,
  },
  {
    slug: 'signal-delay',
    difficulty: 'medium',
    prompt: 'A laser relay takes 180 ms per tile. What latency do you feel over 15 tiles?',
    options: ['1.8 s', '2.1 s', '2.7 s', '3.2 s'],
    correctIndex: 2,
  },
  {
    slug: 'thermal-drop',
    difficulty: 'easy',
    prompt: 'A crystal cools 4 °C each minute from 52 °C. What temperature remains after 6 minutes?',
    options: ['24 °C', '28 °C', '30 °C', '32 °C'],
    correctIndex: 1,
  },
  {
    slug: 'prime-beacon',
    difficulty: 'medium',
    prompt: 'A beacon chirps on prime-numbered turns only. How many chirps occur within the first 15 turns?',
    options: ['5', '6', '7', '8'],
    correctIndex: 1,
  },
];

const POP_SEEDS: QuestionSeed[] = [
  {
    slug: 'triangle-enforcers',
    difficulty: 'easy',
    prompt: 'In Squid Game, which shape do the guards with triangle masks usually act as?',
    options: ['Managers', 'Workers / Enforcers', 'Contestants', 'VIPs'],
    correctIndex: 1,
  },
  {
    slug: 'childhood-echo',
    difficulty: 'medium',
    prompt: 'Which children’s game inspired the “Red Light, Green Light” challenge?',
    options: ['Freeze Tag', 'Statues', 'Mother May I', 'Simon Says'],
    correctIndex: 3,
  },
  {
    slug: 'wake-up-anthem',
    difficulty: 'hard',
    prompt: 'What song plays during the Squid Game dormitory wake-up call?',
    options: ['Blue Danube Waltz', 'Fly Me to the Moon', 'Way Back Then', 'Paradise Lost'],
    correctIndex: 0,
  },
  {
    slug: 'stream-drop',
    difficulty: 'easy',
    prompt: 'Which streaming platform premiered Squid Game worldwide?',
    options: ['Netflix', 'Apple TV+', 'Disney+', 'Prime Video'],
    correctIndex: 0,
  },
  {
    slug: 'viral-dalgona',
    difficulty: 'easy',
    prompt: 'Which Korean street candy challenge went viral alongside Squid Game?',
    options: ['Pepero stack', 'Dalgona candy', 'Hotteok flip', 'Bungeoppang toss'],
    correctIndex: 1,
  },
  {
    slug: 'borderland-city',
    difficulty: 'medium',
    prompt: 'Alice in Borderland drops players into which city’s deserted streets?',
    options: ['Seoul', 'Tokyo', 'Busan', 'Osaka'],
    correctIndex: 1,
  },
  {
    slug: 'battle-royale-roots',
    difficulty: 'medium',
    prompt: 'Which Japanese story is widely credited with popularizing modern death-game fiction?',
    options: ['Battle Royale', 'Parasite', 'Perfect Blue', 'Spirited Away'],
    correctIndex: 0,
  },
  {
    slug: 'fortnite-bus',
    difficulty: 'easy',
    prompt: 'Which video game begins every match aboard a flying Battle Bus?',
    options: ['Apex Legends', 'Fortnite', 'Overwatch', 'Valorant'],
    correctIndex: 1,
  },
  {
    slug: 'amongus-impostors',
    difficulty: 'easy',
    prompt: 'In the default 10-player Among Us lobby, how many impostors are active?',
    options: ['One', 'Two', 'Three', 'Four'],
    correctIndex: 1,
  },
  {
    slug: 'blackpink-anthem',
    difficulty: 'medium',
    prompt: "Which K-pop group performs 'Pink Venom', a track frequently synced to Squid Game fan edits?",
    options: ['BLACKPINK', 'NewJeans', 'IVE', 'ITZY'],
    correctIndex: 0,
  },
  {
    slug: 'physical100-prize',
    difficulty: 'medium',
    prompt: 'Winners of Netflix’s Physical: 100 compete for how much prize money?',
    options: ['100 million KRW', '200 million KRW', '300 million KRW', '500 million KRW'],
    correctIndex: 2,
  },
  {
    slug: 'release-year',
    difficulty: 'easy',
    prompt: 'In which year did Squid Game debut on Netflix?',
    options: ['2019', '2020', '2021', '2022'],
    correctIndex: 2,
  },
  {
    slug: 'parasite-oscar',
    difficulty: 'medium',
    prompt: 'Parasite won the Academy Award for Best Picture in which year?',
    options: ['2018', '2019', '2020', '2021'],
    correctIndex: 2,
  },
  {
    slug: 'money-heist-mask',
    difficulty: 'easy',
    prompt: 'Money Heist robbers wear masks modeled after which artist?',
    options: ['Pablo Picasso', 'Salvador Dalí', 'Frida Kahlo', 'Andy Warhol'],
    correctIndex: 1,
  },
  {
    slug: 'escape-room-origin',
    difficulty: 'medium',
    prompt: 'Modern commercial escape rooms first opened in which country in 2007?',
    options: ['Japan', 'United States', 'France', 'Brazil'],
    correctIndex: 0,
  },
  {
    slug: 'twitch-redlight',
    difficulty: 'medium',
    prompt: 'The popular Twitch mini-game “Red Light, Green Light” mod is commonly built inside what sandbox game?',
    options: ['Roblox', 'Minecraft', 'Dreamlight Valley', 'No Man’s Sky'],
    correctIndex: 1,
  },
  {
    slug: 'fall-guys',
    difficulty: 'easy',
    prompt: 'Which party royale title features bean-shaped contestants racing through obstacle courses?',
    options: ['Fall Guys', 'Gang Beasts', 'Overcooked', 'Rocket League'],
    correctIndex: 0,
  },
  {
    slug: 'roblox-fishgame',
    difficulty: 'easy',
    prompt: 'Roblox hit “Fish Game” is a fan-made parody of which series?',
    options: ['Alice in Borderland', 'Squid Game', 'Dark', 'Arcane'],
    correctIndex: 1,
  },
  {
    slug: 'tiktok-pink',
    difficulty: 'easy',
    prompt: 'The synth remix of “Pink Soldiers” first trended on which short-form video platform?',
    options: ['YouTube Shorts', 'TikTok', 'Kuaishou', 'Clash'],
    correctIndex: 1,
  },
  {
    slug: 'kdrama-spinoff',
    difficulty: 'medium',
    prompt: 'Park Hae-soo also stars in which Netflix series about a Korean heist crew?',
    options: ['Hellbound', 'Money Heist: Korea', 'Kingdom', 'Sweet Home'],
    correctIndex: 1,
  },
  {
    slug: 'webtoon-source',
    difficulty: 'medium',
    prompt: 'The horror drama Sweet Home was adapted from what type of original media?',
    options: ['Novel', 'Webtoon', 'Feature film', 'Podcast'],
    correctIndex: 1,
  },
  {
    slug: 'future-diary',
    difficulty: 'hard',
    prompt: 'Which anime follows Yuno Gasai and a phone-powered survival game?',
    options: ['Future Diary', 'Death Parade', 'Sword Art Online', 'Psycho-Pass'],
    correctIndex: 0,
  },
  {
    slug: 'innersloth',
    difficulty: 'easy',
    prompt: 'Which indie studio created Among Us?',
    options: ['InnerSloth', 'Supergiant', 'Team Cherry', 'ConcernedApe'],
    correctIndex: 0,
  },
  {
    slug: 'hunger-games-district',
    difficulty: 'easy',
    prompt: 'Katniss Everdeen hails from which Hunger Games district?',
    options: ['District 2', 'District 7', 'District 12', 'District 13'],
    correctIndex: 2,
  },
  {
    slug: 'maze-grievers',
    difficulty: 'medium',
    prompt: 'What are the biomechanical monsters called in The Maze Runner series?',
    options: ['Seekers', 'Sentinels', 'Grievers', 'Takers'],
    correctIndex: 2,
  },
  {
    slug: 'divergent-faction',
    difficulty: 'medium',
    prompt: 'In Divergent, which faction is devoted to honesty above all else?',
    options: ['Dauntless', 'Candor', 'Amity', 'Erudite'],
    correctIndex: 1,
  },
  {
    slug: 'escape-room-film',
    difficulty: 'easy',
    prompt: 'Which 2019 film features deadly puzzle rooms with a corporate sponsor?',
    options: ['Escape Plan', 'Escape Room', 'Cube', 'Circle'],
    correctIndex: 1,
  },
  {
    slug: 'pubg-island',
    difficulty: 'medium',
    prompt: 'PUBG: Battlegrounds originally drops players onto which fictional island?',
    options: ['Sanhok', 'Miramar', 'Erangel', 'Vikendi'],
    correctIndex: 2,
  },
  {
    slug: 'singles-inferno',
    difficulty: 'easy',
    prompt: 'Reality show Singles Inferno strands contestants on what type of island?',
    options: ['Frozen peninsula', 'Deserted island', 'Luxury resort', 'Volcanic crater'],
    correctIndex: 1,
  },
  {
    slug: 'tudum-event',
    difficulty: 'easy',
    prompt: 'Netflix’s annual global fan showcase is branded as what event?',
    options: ['Pulse', 'StreamCon', 'Tudum', 'Stage 456'],
    correctIndex: 2,
  },
  {
    slug: 'soundtrack-composer',
    difficulty: 'medium',
    prompt: 'Who composed the haunting Squid Game score?',
    options: ['Jung Jae-il', 'Yiruma', 'Kenji Kawai', 'Ryuichi Sakamoto'],
    correctIndex: 0,
  },
  {
    slug: 'subtitle-count',
    difficulty: 'hard',
    prompt: 'Roughly how many languages did Squid Game launch with subtitles in?',
    options: ['12', '20', '31', '45'],
    correctIndex: 2,
  },
  {
    slug: 'stay-alive-vocalist',
    difficulty: 'medium',
    prompt: 'Which BTS member sings “Stay Alive” for HYBE’s survival story 7Fates: Chakho?',
    options: ['RM', 'Jungkook', 'Jimin', 'V'],
    correctIndex: 1,
  },
  {
    slug: 'arcane-origin',
    difficulty: 'easy',
    prompt: 'Animated hit Arcane is set in which video game universe?',
    options: ['League of Legends', 'Dota 2', 'Overwatch', 'Destiny'],
    correctIndex: 0,
  },
];

const LORE_SEEDS: QuestionSeed[] = [
  {
    slug: 'jumpsuit-color',
    difficulty: 'easy',
    prompt: 'What color are the contestants’ tracksuits in Squid Game?',
    options: ['Orange', 'Green', 'Red', 'Yellow'],
    correctIndex: 1,
  },
  {
    slug: 'glass-bridge-count',
    difficulty: 'medium',
    prompt: 'How many pairs of stepping panels make up the Glass Bridge challenge?',
    options: ['14', '16', '18', '20'],
    correctIndex: 2,
  },
  {
    slug: 'prize-bounty',
    difficulty: 'easy',
    prompt: 'What is the prize money displayed inside the piggy bank?',
    options: ['30 billion won', '40 billion won', '45.6 billion won', '50.1 billion won'],
    correctIndex: 2,
  },
  {
    slug: 'player-count',
    difficulty: 'easy',
    prompt: 'How many contestants begin the first game?',
    options: ['100', '212', '324', '456'],
    correctIndex: 3,
  },
  {
    slug: 'player456-name',
    difficulty: 'easy',
    prompt: 'Player 456 is better known by what name?',
    options: ['Seong Gi-hun', 'Cho Sang-woo', 'Hwang Jun-ho', 'Han Mi-nyeo'],
    correctIndex: 0,
  },
  {
    slug: 'player001-name',
    difficulty: 'easy',
    prompt: 'Player 001 introduces himself as whom?',
    options: ['Oh Il-nam', 'Ji-yeong', 'Ali Abdul', 'Deok-su'],
    correctIndex: 0,
  },
  {
    slug: 'player067-origin',
    difficulty: 'medium',
    prompt: 'Kang Sae-byeok (Player 067) is a defector from which region?',
    options: ['Busan', 'North Korea', 'Jeju Island', 'Taiwan'],
    correctIndex: 1,
  },
  {
    slug: 'player199-origin',
    difficulty: 'easy',
    prompt: 'Ali Abdul (Player 199) originally hails from which country?',
    options: ['India', 'Pakistan', 'Bangladesh', 'Turkey'],
    correctIndex: 1,
  },
  {
    slug: 'sangwoo-job',
    difficulty: 'medium',
    prompt: 'Before the games, Cho Sang-woo worked as what?',
    options: ['Investment banker', 'Detective', 'Chef', 'Glassmaker'],
    correctIndex: 0,
  },
  {
    slug: 'recruiter-card',
    difficulty: 'medium',
    prompt: 'When Gi-hun first plays ddakji with the recruiter, which card color does he choose?',
    options: ['Blue', 'Pink', 'Green', 'Yellow'],
    correctIndex: 0,
  },
  {
    slug: 'honeycomb-choice',
    difficulty: 'easy',
    prompt: 'Which honeycomb shape does Gi-hun pick that nearly dooms him?',
    options: ['Circle', 'Triangle', 'Star', 'Umbrella'],
    correctIndex: 3,
  },
  {
    slug: 'frontman-brother',
    difficulty: 'medium',
    prompt: 'The Front Man is revealed to be whose brother?',
    options: ['Han Mi-nyeo’s', 'Cho Sang-woo’s', 'Detective Hwang Jun-ho’s', 'Player 199’s'],
    correctIndex: 2,
  },
  {
    slug: 'game-total',
    difficulty: 'easy',
    prompt: 'How many official games must contestants survive to win?',
    options: ['4', '5', '6', '7'],
    correctIndex: 2,
  },
  {
    slug: 'doll-name',
    difficulty: 'easy',
    prompt: 'What is the name of the animatronic doll used in Red Light, Green Light?',
    options: ['Young-hee', 'Eun-hee', 'So-yi', 'Nari'],
    correctIndex: 0,
  },
  {
    slug: 'flower-phrase',
    difficulty: 'medium',
    prompt: 'The phrase “Mugunghwa kkoci pieot seumnida” references which national flower?',
    options: ['Lotus', 'Rose of Sharon', 'Chrysanthemum', 'Peony'],
    correctIndex: 1,
  },
  {
    slug: 'mask-hierarchy',
    difficulty: 'medium',
    prompt: 'Which guard mask shape denotes managers who oversee workers?',
    options: ['Circle', 'Triangle', 'Square', 'Hexagon'],
    correctIndex: 2,
  },
  {
    slug: 'coffin-ribbon',
    difficulty: 'easy',
    prompt: 'Eliminated players are sealed in coffins tied with what color ribbon?',
    options: ['Blue', 'White', 'Pink', 'Purple'],
    correctIndex: 2,
  },
  {
    slug: 'marble-count',
    difficulty: 'easy',
    prompt: 'Each contestant receives how many marbles during the marble game?',
    options: ['8', '10', '12', '15'],
    correctIndex: 1,
  },
  {
    slug: 'tug-strategy',
    difficulty: 'medium',
    prompt: 'Oh Il-nam teaches the team to do what first during tug-of-war?',
    options: [
      'Run forward at the whistle',
      'Lean back 45° and dig in your heels',
      'Jump in unison',
      'Tie the rope around the pole',
    ],
    correctIndex: 1,
  },
  {
    slug: 'transport-ship',
    difficulty: 'easy',
    prompt: 'Contestants are delivered to the island aboard what type of vessel?',
    options: ['Cruise liner', 'Cargo ship', 'Fishing boat', 'Submarine'],
    correctIndex: 1,
  },
  {
    slug: 'dorm-shapes',
    difficulty: 'easy',
    prompt: 'Which shapes are painted across the dormitory walls and bunks?',
    options: ['Stars and moons', 'Circles, triangles, and squares', 'Numbers only', 'Clouds and waves'],
    correctIndex: 1,
  },
  {
    slug: 'doctor-game',
    difficulty: 'medium',
    prompt: 'The organ-harvesting doctor hopes to cheat in which specific game?',
    options: ['Red Light, Green Light', 'Honeycomb', 'Marbles', 'Glass stepping stones'],
    correctIndex: 3,
  },
  {
    slug: 'subway-recruit',
    difficulty: 'easy',
    prompt: 'Gi-hun first encounters the recruiter in what setting?',
    options: ['A casino', 'A subway platform', 'His home', 'An arcade'],
    correctIndex: 1,
  },
  {
    slug: 'gganbu-meaning',
    difficulty: 'medium',
    prompt: 'In Korean slang, “gganbu” most closely means what?',
    options: ['Rival', 'Trusted partner', 'Stranger', 'Debt collector'],
    correctIndex: 1,
  },
  {
    slug: 'prize-pig-material',
    difficulty: 'medium',
    prompt: 'The massive prize pig hanging above the dorm is made of which material?',
    options: ['Metal', 'Glass', 'Plastic', 'Paper'],
    correctIndex: 1,
  },
  {
    slug: 'first-game-losses',
    difficulty: 'hard',
    prompt: 'How many contestants are eliminated during the first game?',
    options: ['199', '212', '255', '300'],
    correctIndex: 2,
  },
  {
    slug: 'final-weapon',
    difficulty: 'medium',
    prompt: 'In the final Squid Game, what weapon are the last two players given?',
    options: ['Batons', 'Knives', 'Glass shards', 'Chains'],
    correctIndex: 1,
  },
  {
    slug: 'riot-followup',
    difficulty: 'medium',
    prompt: 'Which official game follows immediately after the brutal overnight dorm fight?',
    options: ['Honeycomb', 'Marbles', 'Tug-of-war', 'Glass stepping stones'],
    correctIndex: 2,
  },
  {
    slug: 'vip-mask',
    difficulty: 'medium',
    prompt: 'Which of these animal masks is seen among the VIP spectators?',
    options: ['Owl', 'Penguin', 'Dolphin', 'Bear'],
    correctIndex: 0,
  },
  {
    slug: 'gi-hun-hair',
    difficulty: 'easy',
    prompt: 'After winning, what bold color does Gi-hun dye his hair?',
    options: ['Electric blue', 'Neon green', 'Bright red', 'Violet'],
    correctIndex: 2,
  },
  {
    slug: 'exit-clause',
    difficulty: 'medium',
    prompt: 'Which clause in the contract lets a majority vote end the games?',
    options: ['Clause 1', 'Clause 2', 'Clause 3', 'Clause 4'],
    correctIndex: 1,
  },
  {
    slug: 'black-card',
    difficulty: 'medium',
    prompt: 'Gi-hun withdraws his prize money using what color bank card?',
    options: ['White', 'Black', 'Silver', 'Green'],
    correctIndex: 1,
  },
  {
    slug: 'squid-safezone',
    difficulty: 'hard',
    prompt: 'In the final Squid Game diagram, which section counts as the offense’s safe house?',
    options: ['Head circle', 'Body triangle', 'Feet base', 'None; offense must fight through'],
    correctIndex: 0,
  },
  {
    slug: 'saebyeok-number',
    difficulty: 'easy',
    prompt: 'What number is stitched onto Kang Sae-byeok’s jacket?',
    options: ['006', '067', '076', '670'],
    correctIndex: 1,
  },
];

export const QUESTION_BANK: QuizQuestion[] = [
  ...makeQuestions('stem', STEM_SEEDS),
  ...makeQuestions('pop', POP_SEEDS),
  ...makeQuestions('lore', LORE_SEEDS),
];

const pickRandom = <T,>(arr: T[]): T => arr[Math.floor(Math.random() * arr.length)];

export const drawQuestion = (category: QuizTheme, difficulty: QuizDifficulty = 'medium'): QuizQuestion => {
  const filtered = QUESTION_BANK.filter(
    (q) => q.category === category && (difficulty ? q.difficulty === difficulty : true),
  );

  if (filtered.length === 0) {
    return pickRandom(QUESTION_BANK);
  }

  return pickRandom(filtered);
};
